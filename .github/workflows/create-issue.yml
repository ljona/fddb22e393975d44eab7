name: Create issue on commit

on: [ push ]

jobs:
  create_commit:
    # if: ${{ github.ref == 'iss*' }}
    runs-on: ubuntu-latest 
    permissions:
      issues: write 
    steps:
      - name: Create issue using REST API
        run: |
          echo "ls /home/runner/work/_temp/_runner_file_commands"
          ls /home/runner/work/_temp/_runner_file_commands
          echo "reference: ${{ github.ref }}"
          # echo "env follows"
          # env
          # echo "ls \$HOME follows"
          # ls $HOME
          echo "ls /home/runner/work/_temp/_runner_file_commands"
          ls /home/runner/work/_temp/_runner_file_commands

          # echo "curl issue follows"
          # curl --request POST \
          # --url https://api.github.com/repos/${{ github.repository }}/issues \
          # --header 'authorization: Bearer ${{ github.token }}' \
          # --header 'content-type: application/json' \
          # --data '{
          #   "title": "Automated issue for commit: ${{ github.sha }}",
          #   "body": "This issue was automatically created by the GitHub Action workflow **${{ github.workflow }}**. \n\n The commit hash was: _${{ github.sha }}_."
          #   }' \
          # --fail
